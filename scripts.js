(function(){_.mixin(_.str.exports()),angular.module("guanlecoja.ui",["ui.bootstrap","ui.router","ngAnimate"])}).call(this),function(){var i;i=function(){function i(i){this.$rootScope=i}return i.prototype.setBreadcrumb=function(i){return this.$rootScope.$broadcast("glBreadcrumb",i)},i}(),angular.module("guanlecoja.ui").service("glBreadcrumbService",["$rootScope",i])}.call(this),function(){var i;i=function(){function i(){this.groups={},this.footer=[]}return i.prototype.appTitle="set AppTitle using GlMenuServiceProvider.setAppTitle",i.prototype.addGroup=function(i){return i.items=[],null==i.order&&(i.order=99),this.groups[i.name]=i,this.groups},i.prototype.setFooter=function(i){return this.footer=i},i.prototype.setAppTitle=function(i){return this.appTitle=i},i.prototype.$get=["$state",function(i){var t,e,n,r,o,a,s,l,u,c;for(u=i.get().slice(1),s=0,l=u.length;l>s;s++)if(a=u[s],t=a.data.group,null!=t){if(!this.groups.hasOwnProperty(t))throw Error("group "+t+" has not been defined with glMenuProvider.group(). has: "+_.keys(this.groups));this.groups[t].items.push({caption:a.data.caption||_.string.humanize(a.name),sref:a.name})}c=this.groups;for(r in c)t=c[r],0!==t.items.length||t.separator?1===t.items.length?(n=t.items[0],t.caption=n.caption,t.sref=n.sref,t.items=[]):t.sref=".":delete this.groups[r];return e=_.values(this.groups),e.sort(function(i,t){return i.order-t.order}),o=this,{getGroups:function(){return e},getFooter:function(){return o.footer},getAppTitle:function(){return o.appTitle}}}],i}(),angular.module("guanlecoja.ui").provider("glMenuService",[i])}.call(this),function(){var i,t;i=function(){function i(i){i.responseInterceptors.push("glHttpInterceptor")}return i}(),t=function(){function i(i,t,e){return function(n){var r;return r=function(n){var r,o;try{o=""+n.status+":"+n.data.error+" "+("when:"+n.config.method+" "+n.config.url)}catch(a){r=a,o=n.toString()}return e(function(){return i.network(o)},100),t.reject(n)},n.then(angular.identity,r)}}return i}(),angular.module("guanlecoja.ui").config(["$httpProvider",i]).factory("glHttpInterceptor",["glNotificationService","$q","$timeout",t])}.call(this),function(){var i;i=function(){function i(i,t){this.$rootScope=i,this.$timeout=t,this.notifications=[],this.curid=0}return i.prototype.notify=function(i){var t,e,n,r;if(this.curid+=1,null==i.title&&(i.title="Info"),i.id=this.curid,e=this.curid,null!=i.group){r=this.notifications;for(t in r)n=r[t],i.group===n.group&&(e=t,n.msg+="\n"+i.msg)}return e===this.curid&&this.notifications.push(i),null},i.prototype.error=function(i){return null==i.title&&(i.title="Error"),this.notify(i)},i.prototype.network=function(i){return null==i.title&&(i.title="Network issue"),null==i.group&&(i.group="Network"),this.notify(i)},i.prototype.dismiss=function(i){var t,e,n;n=this.notifications;for(t in n)if(e=n[t],e.id===i)return this.notifications.splice(t,1),null;return null},i}(),angular.module("guanlecoja.ui").service("glNotificationService",["$rootScope","$timeout",i])}.call(this),function(){var i,t;i=function(){function i(){return{replace:!0,transclude:!0,restrict:"E",scope:!1,controllerAs:"n",templateUrl:"guanlecoja.ui/views/notification.html",controller:"_glNotificationController"}}return i}(),t=function(){function i(i,t,e){this.$scope=i,this.glNotificationService=t,this.dropdownService=e,this.notifications=this.glNotificationService.notifications}return i.prototype.dismiss=function(i,t){return this.glNotificationService.dismiss(i),t.stopPropagation(),null},i.prototype.toggle=function(){return this.$scope.isOpen=!0,this.dropdownService.open(this.$scope),null},i}(),angular.module("guanlecoja.ui").directive("glNotification",[i]).controller("_glNotificationController",["$scope","glNotificationService","dropdownService",t])}.call(this),function(){var i,t;i=function(){function i(){return{replace:!0,transclude:!0,restrict:"E",scope:!1,controllerAs:"page",templateUrl:"guanlecoja.ui/views/page_with_sidebar.html",controller:"_glPageWithSidebarController"}}return i}(),t=function(){function i(i,t,e){this.$scope=i,this.$timeout=e,this.sidebarPinned=!1,this.groups=t.getGroups(),this.footer=t.getFooter(),this.appTitle=t.getAppTitle(),this.activeGroup=null,this.inSidebar=!1,this.sidebarActive=!1}return i.prototype.toggleGroup=function(i){return this.activeGroup=this.activeGroup!==i?i:null},i.prototype.enterSidebar=function(){return this.sidebarActive=!0,this.inSidebar=!0},i.prototype.hideSidebar=function(){return this.sidebarActive=!1,this.inSidebar=!1},i.prototype.leaveSidebar=function(){return this.inSidebar=!1,null!=this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=void 0),this.timeout=this.$timeout(function(i){return function(){return i.inSidebar||i.sidebarPinned?void 0:(i.sidebarActive=!1,i.activeGroup=null)}}(this),500)},i}(),angular.module("guanlecoja.ui").directive("glPageWithSidebar",[i]).controller("_glPageWithSidebarController",["$scope","glMenuService","$timeout",t])}.call(this),function(){var i,t;i=function(){function i(){return{replace:!0,transclude:!0,restrict:"E",scope:!1,controllerAs:"page",templateUrl:"guanlecoja.ui/views/topbar.html",controller:"_glTopbarController"}}return i}(),t=function(){function i(i,t,e){var n;n=t.getGroups(),n=_.zipObject(_.map(n,function(i){return i.name}),n),i.appTitle=t.getAppTitle(),i.$on("$stateChangeStart",function(t,r){var o,a;return i.breadcrumb=[],(null!=(o=r.data)?o.group:void 0)&&i.breadcrumb.push({caption:n[r.data.group].caption}),i.breadcrumb.push({caption:(null!=(a=r.data)?a.caption:void 0)||_.humanize(r.name),href:"#"+e.hash()})}),i.$on("glBreadcrumb",function(t,e){return i.breadcrumb=e})}return i}(),angular.module("guanlecoja.ui").directive("glTopbar",[i]).controller("_glTopbarController",["$scope","glMenuService","$location",t])}.call(this),angular.module("guanlecoja.ui").run(["$templateCache",function(i){i.put("guanlecoja.ui/views/notification.html",'<li ng-class="{ active: isOpen }" class="dropdown notifications"><a ng-click="n.toggle()"><i ng-class="{\'fa-ringing\': n.notifications.length &gt; 0 }" class="fa fa-bell-o fa-lg"></i></a><ul class="dropdown-menu dropdown-menu-right"><li class="dropdown-header">Notifications</li><li class="divider"></li><div ng-repeat="msg in n.notifications"><li><div class="item"><button ng-click="n.dismiss(msg.id, $event)" class="close">&times;</button><div class="title">{{msg.title}}:</div><div class="msg">{{msg.msg}}</div></div></li><li class="divider"></li></div><li ng-hide="n.notifications.length&gt;0"><div class="item"><small class="msg"> all caught up!</small></div></li></ul></li>'),i.put("guanlecoja.ui/views/page_with_sidebar.html",'<div ng-class="{\'active\': page.sidebarActive, \'pinned\': page.sidebarPinned}" class="gl-page-with-sidebar"><div ng-mouseenter="page.enterSidebar()" ng-mouseleave="page.leaveSidebar()" class="sidebar sidebar-blue"><ul><li class="sidebar-main"><a href="#">{{page.appTitle}}<span ng-hide="page.sidebarActive" ng-click="page.sidebarActive=!page.sidebarActive" class="menu-icon fa fa-bars"></span><span ng-show="page.sidebarActive" ng-click="page.sidebarPinned=!page.sidebarPinned" ng-class="{\'fa-45\': !page.sidebarPinned}" class="menu-icon fa fa-thumb-tack"></span></a></li><li class="sidebar-title"><span>NAVIGATION</span></li><div ng-repeat="group in page.groups"><div ng-if="group.items.length &gt; 0"><li class="sidebar-list"><a ng-click="page.toggleGroup(group)"><i class="fa fa-angle-right"></i>&nbsp;{{group.caption}}<span ng-class="\'fa-\' + group.icon" class="menu-icon fa"></span></a></li><li ng-class="{\'active\': page.activeGroup==group}" ng-repeat="item in group.items" class="sidebar-list subitem"><a ui-sref="{{item.sref}}" ng-click="page.hideSidebar()">{{item.caption}}</a></li></div><div ng-if="group.items.length == 0"><div ng-if="group.separator"><li class="sidebar-title"><span>{{group.caption}}</span></li></div><div ng-if="!group.separator"><li ng-if="!$first" class="sidebar-separator"></li><li class="sidebar-list"><a ui-sref="{{group.sref}}" ng-click="page.toggleGroup(group)">{{group.caption}}<span ng-class="\'fa-\' + group.icon" class="menu-icon fa"></span></a></li></div></div></div></ul><div class="sidebar-footer"><div ng-repeat="item in page.footer" class="col-xs-4"><a ng-href="{{item.href}}">{{item.caption}}</a></div></div></div><div class="content"><div ng-transclude="ng-transclude"></div></div></div>'),i.put("guanlecoja.ui/views/topbar.html",'<div class="navbar navbar-default navbar-static-top"><div class="container-fluid"><a class="navbar-brand">{{appTitle}}</a><ol class="breadcrumb"><li ng-repeat="b in breadcrumb"><a ng-if="b.sref" ui-sref="{{b.sref}}">{{b.caption}}</a><a ng-if="b.href" ng-href="{{b.href}}">{{b.caption}}</a><span ng-if="b.href == undefined &amp;&amp; b.sref == undefined" ng-href="{{b.href}}">{{b.caption}}</span></li></ol><ul ng-transclude="ng-transclude" class="nav navbar-nav pull-right"></ul></div></div>')}]);
//# sourceMappingURL=scripts.js.map