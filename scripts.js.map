{"version":3,"sources":["module/main.module.coffee","module/breadcrumb_service/breadcrumb.service.coffee","module/menu_service/menu.service.coffee","module/notification_service/httpinterceptor.coffee","module/notification_service/notification.service.coffee","module/notification_widget/notification.directive.coffee","module/page_with_sidebar/page_with_sidebar.directive.coffee","module/topbar/topbar.directive.coffee","module/topbar-contextual-actions/topbar-contextual-actions.directive.coffee","module/notification_widget/notification.tpl.jade","module/page_with_sidebar/page_with_sidebar.tpl.jade","module/topbar/topbar.tpl.jade","module/topbar-contextual-actions/topbar-contextual-actions.tpl.jade"],"names":[],"mappings":"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","file":"scripts.js","sourcesContent":["angular.module(\"guanlecoja.ui\", [\"ui.bootstrap\", \"ui.router\", \"ngAnimate\"])\n","# a simple service to abstract breadcrumb configuration\nclass glBreadcrumb extends Service\n    constructor: (@$rootScope) -> {}\n\n    setBreadcrumb: (breadcrumb) ->\n        @$rootScope.$broadcast(\"glBreadcrumb\", breadcrumb)\n\n","class GlMenu extends Provider\n    constructor: ->\n        @groups = {}\n        @footer = []\n\n    appTitle: \"set AppTitle using GlMenuServiceProvider.setAppTitle\"\n\n    addGroup: (group) ->\n        group.items = []\n        group.order ?= 99\n        @groups[group.name] = group\n        return @groups\n\n    setFooter: (footer) ->\n        @footer = footer\n\n    setAppTitle: (title) ->\n        @appTitle = title\n\n    $get: [\"$state\", ($state) ->\n        for state in $state.get()[1...]\n            group = state.data.group\n            unless group?\n                continue\n\n            unless @groups.hasOwnProperty(group)\n                throw Error(\"group #{group} has not been defined with glMenuProvider.group(). has: #{_.keys(@groups)}\")\n\n            @groups[group].items.push\n                caption: state.data.caption || _.capitalize(state.name)\n                sref: state.name\n\n        for name, group of @groups\n            # if a group has only no item, we juste delete it\n            if group.items.length == 0 and not group.separator\n                delete @groups[name]\n            # if a group has only one item, then we put the group == the item\n            else if group.items.length == 1\n                item = group.items[0]\n                group.caption = item.caption\n                group.sref = item.sref\n                group.items = []\n            else\n                group.sref = \".\"\n        groups = _.values(@groups)\n        groups.sort((a,b) -> a.order - b.order)\n        self = @\n        return {\n            getGroups: -> groups\n            getFooter: -> self.footer\n            getAppTitle: -> self.appTitle\n        }\n    ]\n","# I intercept the http errors and put them in the notification service\n# in order to enable it, please add following code in you config:\n\n#class AddInterceptor extends Config\n#    constructor: ($httpProvider) ->\n#        $httpProvider.responseInterceptors.push('glHttpInterceptor')\n\n\nclass glHttpInterceptor extends Factory\n    constructor: (glNotificationService, $q, $timeout) ->\n        return (promise) ->\n            errorHandler =  (res) ->\n                try\n                    msg = \"#{res.status}:#{res.data.error} \" +\n                    \"when:#{res.config.method} #{res.config.url}\"\n                catch e\n                    msg = res.toString()\n                $timeout((-> glNotificationService.network(msg)), 100)\n                $q.reject res\n\n            promise.then(angular.identity, errorHandler)\n","class glNotification extends Service\n    constructor: (@$rootScope, @$timeout) ->\n        @notifications = []\n        @curid = 0\n        null\n\n    notify: (opts) ->\n        @curid += 1\n        opts.title ?= \"Info\"\n        opts.id = @curid\n        id = @curid\n        if opts.group?\n            for i, n of @notifications\n                if opts.group == n.group\n                    id = i\n                    n.msg += \"\\n\" + opts.msg\n        if id == @curid\n            @notifications.push opts\n        null\n\n    # some shortcuts...\n    error: (opts) ->\n        opts.title ?= \"Error\"\n        @notify(opts)\n\n    network: (opts) ->\n        opts.title ?= \"Network issue\"\n        opts.group ?= \"Network\"\n        @notify(opts)\n\n    dismiss: (id) ->\n        for i, n of @notifications\n            if n.id == id\n                @notifications.splice(i, 1)\n                return null\n        null\n","class GlNotification extends Directive\n    constructor: ->\n        return {\n            replace: true\n            transclude: true\n            restrict: 'E'\n            scope: false\n            controllerAs: \"n\"\n            templateUrl: \"guanlecoja.ui/views/notification.html\"\n            controller: \"_glNotificationController\"\n        }\n\nclass _glNotification extends Controller\n\n    constructor: (@$scope, @glNotificationService) ->\n        @notifications = @glNotificationService.notifications\n        null\n\n    dismiss: (id, e) ->\n        @glNotificationService.dismiss(id)\n        e.stopPropagation()\n        null\n","class GlPageWithSidebar extends Directive\n    constructor: ->\n        return {\n            replace: true\n            transclude: true\n            restrict: 'E'\n            scope: false\n            controllerAs: \"page\"\n            templateUrl: \"guanlecoja.ui/views/page_with_sidebar.html\"\n            controller: \"_glPageWithSidebarController\"\n        }\n\nclass _glPageWithSidebar extends Controller\n    constructor: (@$scope, glMenuService, @$timeout, @$window) ->\n        @sidebarPinned = @$window.innerWidth > 800\n        @groups = glMenuService.getGroups()\n        @footer = glMenuService.getFooter()\n        @appTitle = glMenuService.getAppTitle()\n        @activeGroup = null\n        @inSidebar = false\n        @sidebarActive = @sidebarPinned\n\n    toggleGroup: (group) ->\n        if @activeGroup!=group\n            @activeGroup=group\n        else\n            @activeGroup=null\n\n    enterSidebar: ->\n        @sidebarActive = true\n        @inSidebar = true\n\n    hideSidebar: ->\n        @sidebarActive = false\n        @inSidebar = false\n\n    leaveSidebar: ->\n        @inSidebar = false\n        if @timeout?\n            @$timeout.cancel(@timeout)\n            @timeout = undefined\n        @timeout = @$timeout (=>\n            unless @inSidebar or @sidebarPinned\n                @sidebarActive = false\n                @activeGroup = null\n            ), 500\n","class GlTopbar extends Directive\n    constructor: ->\n        return {\n            replace: true\n            transclude: true\n            restrict: 'E'\n            scope: false\n            controllerAs: \"page\"\n            templateUrl: \"guanlecoja.ui/views/topbar.html\"\n            controller: \"_glTopbarController\"\n        }\n\nclass _glTopbar extends Controller\n    constructor: ($scope, glMenuService, $location) ->\n        groups = glMenuService.getGroups()\n        groups = _.zipObject(_.map(groups, (g) -> g.name), groups)\n        $scope.appTitle = glMenuService.getAppTitle()\n\n        $scope.$on \"$stateChangeStart\", (ev, state) ->\n            $scope.breadcrumb = []\n            if state.data?.group and state.data?.caption != groups[state.data.group].caption\n                $scope.breadcrumb.push\n                    caption: groups[state.data.group].caption\n            $scope.breadcrumb.push\n                caption: state.data?.caption or _.capitalize(state.name)\n                href: '#' + $location.hash()\n\n        $scope.$on \"glBreadcrumb\", (e, data) ->\n            $scope.breadcrumb = data\n","class GlTopbarContextualActions extends Directive\n    constructor: ->\n        return {\n            replace: true\n            restrict: 'E'\n            scope: true\n            templateUrl: \"guanlecoja.ui/views/topbar-contextual-actions.html\"\n            controller: \"_glTopbarContextualActionsController\"\n        }\n\n\nclass _glTopbarContextualActions extends Controller\n    constructor: ($scope, $sce) ->\n\n        $scope.$on \"$stateChangeStart\", (ev, state) ->\n            $scope.actions = []\n\n        $scope.$on \"glSetContextualActions\", (e, data) ->\n            for item in data\n                item.extra_class ?= \"\"\n\n            $scope.actions = data\n\n# a simple service to abstract TopbarContextualActions configuration\nclass glTopbarContextualActions extends Service\n    constructor: (@$rootScope) -> {}\n\n    setContextualActions: (actions) ->\n        @$rootScope.$broadcast(\"glSetContextualActions\", actions)\n","li.dropdown.notifications(uib-dropdown)\n    a(uib-dropdown-toggle)\n        i.fa.fa-bell-o.fa-lg(ng-class=\"{'fa-ringing': n.notifications.length > 0 }\")\n    ul.uib-dropdown-menu.dropdown-menu.dropdown-menu-right(dropdown-toggle)\n        li.dropdown-header\n            | Notifications\n        li.divider\n        div(ng-repeat=\"msg in n.notifications\")\n          li\n            .item\n                button.close(ng-click=\"n.dismiss(msg.id, $event)\") &times;\n                .title {{msg.title}}:\n                .msg {{msg.msg}}\n          li.divider\n        li(ng-hide=\"n.notifications.length>0\")\n            .item\n                small.msg  all caught up!\n",".gl-page-with-sidebar(ng-class=\"{'active': page.sidebarActive, 'pinned': page.sidebarPinned}\")\n    .sidebar.sidebar-blue(ng-mouseenter='page.enterSidebar()',ng-mouseleave='page.leaveSidebar()')\n        ul\n            li.sidebar-main\n                a(href='javascript:')\n                    | {{page.appTitle}}\n                    span.menu-icon.fa.fa-bars(ng-hide=\"page.sidebarActive\", ng-click='page.sidebarActive=!page.sidebarActive')\n                    span.menu-icon.fa.fa-thumb-tack(ng-show=\"page.sidebarActive\", ng-click=\"page.sidebarPinned=!page.sidebarPinned\", ng-class=\"{'fa-45': !page.sidebarPinned}\")\n            li.sidebar-title\n                span NAVIGATION\n            div(ng-repeat=\"group in page.groups\")\n                div(ng-if=\"group.items.length > 0\")\n                    li.sidebar-list\n                        a(ng-click='page.toggleGroup(group)')\n                            i.fa.fa-angle-right\n                            | &nbsp;{{group.caption}}\n                            span.menu-icon.fa(ng-class=\"'fa-' + group.icon\")\n                    li.sidebar-list.subitem(ng-class=\"{'active': page.activeGroup==group}\", ng-repeat=\"item in group.items\")\n                        a(ui-sref='{{item.sref}}', ng-click='page.hideSidebar()')\n                            | {{item.caption}}\n                div(ng-if=\"group.items.length == 0\")\n                    div(ng-if=\"group.separator\")\n                        li.sidebar-title\n                            span {{group.caption}}\n                    div(ng-if=\"!group.separator\")\n                        li.sidebar-separator(ng-if=\"!$first\")\n                        li.sidebar-list\n                            a(ui-sref='{{group.sref}}', ng-click='page.toggleGroup(group)')\n                                | {{group.caption}}\n                                span.menu-icon.fa(ng-class=\"'fa-' + group.icon\")\n        .sidebar-footer\n            .col-xs-4(ng-repeat=\"item in page.footer\")\n                a(ng-href='{{item.href}}')\n                    | {{item.caption}}\n    .content\n        div(ng-transclude)\n",".navbar.navbar-default.navbar-static-top\n    .container-fluid\n        a.navbar-brand {{appTitle}}\n        ol.breadcrumb\n            li(ng-repeat=\"b in breadcrumb\")\n                a(ng-if=\"b.sref\", ui-sref=\"{{b.sref}}\") {{b.caption}}\n                a(ng-if=\"b.href\", ng-href=\"{{b.href}}\") {{b.caption}}\n                span(ng-if=\"b.href == undefined && b.sref == undefined\", ng-href=\"{{b.href}}\") {{b.caption}}\n        ul.nav.navbar-nav.pull-right(ng-transclude)\n\n","form.navbar-form.navbar-left\n    span(ng-repeat=\"a in actions\")\n        button.btn.btn-default(type=\"button\" ng-class=\"a.extra_class\" ng-click=\"a.action()\", title=\"{{a.help}}\")\n            i.fa(ng-if=\"a.icon\", ng-class=\"'fa-' + a.icon\")\n            span(ng-if=\"a.icon&&a.caption\") &nbsp;\n            | {{::a.caption}}\n        | &nbsp;\n"],"sourceRoot":"/source/"}